---
import BaseLayout from '../../layouts/BaseLayout.astro';
---

<BaseLayout title="Sprint Testing - Use Cases - maenifold">
  <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <h1 class="text-4xl font-light mb-8">Multi-Agent Sprint Testing</h1>

    <p class="text-xl mb-8">
      25 AI agents across 68 minutes discovered a critical production bug not through programmed coordination,
      but through emergent understanding. No orchestration code was written, yet agents perfectly orchestrated
      themselves across 4 waves, building on each other's discoveries through a shared knowledge graph.
    </p>

    <!-- Execution Timeline -->
    <section class="mb-12">
      <h2 class="text-3xl font-light mb-6">Execution Timeline</h2>
      <div class="overflow-x-auto">
        <table class="min-w-full border border-gray-200 dark:border-gray-700">
          <thead class="bg-gray-50 dark:bg-gray-800">
            <tr>
              <th class="px-6 py-3 text-left">Phase</th>
              <th class="px-6 py-3 text-left">Duration</th>
              <th class="px-6 py-3 text-left">Agents</th>
              <th class="px-6 py-3 text-left">Result</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
            <tr>
              <td class="px-6 py-4">Part 1: PM-lite Protocol</td>
              <td class="px-6 py-4">28 minutes</td>
              <td class="px-6 py-4">12 agents</td>
              <td class="px-6 py-4">85% test success, critical bug found</td>
            </tr>
            <tr>
              <td class="px-6 py-4">Part 2: Agentic-SLC Workflow</td>
              <td class="px-6 py-4">40 minutes</td>
              <td class="px-6 py-4">13 agents</td>
              <td class="px-6 py-4">3 issues fixed/investigated</td>
            </tr>
            <tr class="font-semibold">
              <td class="px-6 py-4">Total Demo</td>
              <td class="px-6 py-4">~68 minutes</td>
              <td class="px-6 py-4">25 agents</td>
              <td class="px-6 py-4">Issues resolved</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Part 1: PM-lite Protocol -->
    <section class="mb-12 p-6 bg-gray-50 dark:bg-gray-800 rounded-lg">
      <h2 class="text-3xl font-light mb-6">Part 1: PM-lite Protocol (Discovery & Testing)</h2>
      <p class="mb-4"><strong>Approach:</strong> AI-driven orchestration with sequential thinking only</p>
      <ul class="space-y-2 mb-4">
        <li>• <strong>Method:</strong> PM (blue hat) orchestrates waves of parallel agents</li>
        <li>• <strong>Agents:</strong> 12 agents across 4 waves</li>
        <li>• <strong>Coordination:</strong> Shared sequential thinking session</li>
        <li>• <strong>Result:</strong> Discovered critical move operation bug, achieved 85% test success</li>
      </ul>
      <div class="grid md:grid-cols-2 gap-4 mt-6">
        <div class="border border-gray-300 dark:border-gray-600 p-4 rounded">
          <h4 class="font-semibold mb-2">Test Statistics</h4>
          <ul class="space-y-1 text-sm">
            <li>Total Tests: 50+</li>
            <li>Success Rate: 85%</li>
            <li>Orchestration Waves: 4</li>
          </ul>
        </div>
        <div class="border border-gray-300 dark:border-gray-600 p-4 rounded">
          <h4 class="font-semibold mb-2">Key Artifacts</h4>
          <ul class="space-y-1 text-sm">
            <li>E2E Test Report</li>
            <li>Orchestration Session</li>
            <li>Test Matrix Plan</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Part 2: Agentic-SLC -->
    <section class="mb-12 p-6 bg-gray-50 dark:bg-gray-800 rounded-lg">
      <h2 class="text-3xl font-light mb-6">Part 2: Agentic-SLC Workflow (Issue Remediation)</h2>
      <p class="mb-4"><strong>Approach:</strong> Structured workflow with embedded sequential thinking</p>
      <ul class="space-y-2 mb-4">
        <li>• <strong>Method:</strong> 17-step workflow with quality gates and validation</li>
        <li>• <strong>Agents:</strong> 7 agents across implementation, red team, and remediation waves</li>
        <li>• <strong>Coordination:</strong> Workflow orchestration with RTM traceability</li>
        <li>• <strong>Result:</strong> Fixed 2 issues (SRCH-004, MEM-009), investigated 1 (GRPH-009)</li>
      </ul>
      <div class="grid md:grid-cols-2 gap-4 mt-6">
        <div class="border border-gray-300 dark:border-gray-600 p-4 rounded">
          <h4 class="font-semibold mb-2">Implementation Stats</h4>
          <ul class="space-y-1 text-sm">
            <li>RTM Items: 27 atomic requirements</li>
            <li>Implementation Waves: 3</li>
            <li>Tests Added: 14 new regression tests</li>
          </ul>
        </div>
        <div class="border border-gray-300 dark:border-gray-600 p-4 rounded">
          <h4 class="font-semibold mb-2">Quality Metrics</h4>
          <ul class="space-y-1 text-sm">
            <li>100% CLI/MCP Parity</li>
            <li>Zero Warnings/Errors</li>
            <li>45+ tests added total</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Issues Fixed -->
    <section class="mb-12">
      <h2 class="text-3xl font-light mb-6">Issues Fixed</h2>
      <div class="space-y-4">
        <div class="border-l-4 border-primary dark:border-primary-light pl-4">
          <h4 class="font-semibold">Critical Bug Fixed</h4>
          <p class="text-gray-600 dark:text-gray-400">Move operation now preserves .md extension</p>
        </div>
        <div class="border-l-4 border-primary dark:border-primary-light pl-4">
          <h4 class="font-semibold">SRCH-004 Fixed</h4>
          <p class="text-gray-600 dark:text-gray-400">minScore parameter now filters search results</p>
        </div>
        <div class="border-l-4 border-primary dark:border-primary-light pl-4">
          <h4 class="font-semibold">MEM-009 Fixed</h4>
          <p class="text-gray-600 dark:text-gray-400">Path validation prevents traversal attacks</p>
        </div>
        <div class="border-l-4 border-gray-400 dark:border-gray-600 pl-4">
          <h4 class="font-semibold">GRPH-009 Investigated</h4>
          <p class="text-gray-600 dark:text-gray-400">
            Investigation found only CTE implementation exists. Performance acceptable but complex
            traversals can timeout (30+ seconds). No optimization implemented.
          </p>
        </div>
      </div>
    </section>

    <!-- Code Change Analysis -->
    <section class="mb-12">
      <h2 class="text-3xl font-light mb-6">Code Change Analysis</h2>
      <div class="overflow-x-auto mb-4">
        <table class="min-w-full border border-gray-200 dark:border-gray-700">
          <thead class="bg-gray-50 dark:bg-gray-800">
            <tr>
              <th class="px-6 py-3 text-left">Category</th>
              <th class="px-6 py-3 text-left">Lines</th>
              <th class="px-6 py-3 text-left">Percentage</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
            <tr>
              <td class="px-6 py-4">Implementation Code</td>
              <td class="px-6 py-4">168 lines</td>
              <td class="px-6 py-4">17%</td>
            </tr>
            <tr>
              <td class="px-6 py-4">Test Coverage</td>
              <td class="px-6 py-4">2,031 lines</td>
              <td class="px-6 py-4">69%</td>
            </tr>
            <tr>
              <td class="px-6 py-4">Documentation</td>
              <td class="px-6 py-4">135+ lines</td>
              <td class="px-6 py-4">14%</td>
            </tr>
          </tbody>
        </table>
      </div>
      <p class="text-gray-600 dark:text-gray-400">
        The code volume is appropriate and not over-engineered. Average ~50-60 lines per fix is quite lean.
        Security features require comprehensive testing.
      </p>
    </section>

    <!-- Knowledge Graph Impact -->
    <section class="mb-12 text-center p-8 bg-gray-50 dark:bg-gray-800 rounded-lg">
      <h2 class="text-3xl font-light mb-4">Knowledge Graph Impact</h2>
      <div class="text-6xl font-bold text-primary dark:text-primary-light mb-2">171,506</div>
      <p class="text-xl text-gray-600 dark:text-gray-400">New concept relationships created</p>
      <p class="mt-4">
        Sprint added extensive knowledge graph connections demonstrating how agents share discoveries
        through <code>[[WikiLinks]]</code> in persistent memory.
      </p>
    </section>
  </div>
</BaseLayout>
